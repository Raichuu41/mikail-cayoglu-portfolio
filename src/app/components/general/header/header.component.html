<nav [class.nav-shadow]='this.pageYPosition>0' class="navbar navbar-expand main-navbar on-top">
  <div class="container-md">
    <a (click)="addFragment('banner', $event)" href="#banner" aria-label="Scroll to top">
      <svg viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg">
        <path d="M 10 90 L 10 20 L 30 20 L 50 50 L 70 20 L 90 20 L 90 90 L 70 90 L 70 40 L 50 70 L 30 40 L 30 90 Z"
              stroke-dasharray="260, 500" stroke-dashoffset="0"
              stroke-linejoin="round"
              stroke-width="4" class="svg-logo">
          <animate attributeName="stroke-dashoffset" dur="2s" from="0" repeatCount="indefinite" to="-760"/>
        </path>
      </svg>

    </a>
    <!-- Desktop View Navigation -->
    <ul class="menu-ul nav" [@animateMenu]="">
      <li class="nav-item" (click)='analyticsService.sendAnalyticEvent("click_about", "menu", "click")'>
        <a (click)="addFragment('about', $event)" class="nav-link" href="#about"><span class='nav-number'>01. </span>
          <span
            class="underline nav-text"> {{"Header.Item1" | translate}}</span></a>
      </li>
      <li class="nav-item" (click)='analyticsService.sendAnalyticEvent("click_experience", "menu", "click")'>
        <a (click)='addFragment("jobs", $event)' class="nav-link" href="#jobs"><span class='nav-number'>02. </span>
          <span
            class="underline nav-text"> {{"Header.Item2" | translate}}</span></a>
      </li>
      <li class="nav-item" (click)='analyticsService.sendAnalyticEvent("click_jobs", "menu", "click")'>
        <a (click)='addFragment("projects", $event)' class="nav-link" href="#projects"><span
          class='nav-number'>03. </span> <span
          class="underline nav-text"> {{"Header.Item3" | translate}}</span></a>
      </li>
      <li class="nav-item" (click)='analyticsService.sendAnalyticEvent("click_contact", "menu", "click")'>
        <a (click)='addFragment("contact", $event)' class="nav-link" href="#contact"><span
          class='nav-number'>04. </span> <span
          class="underline nav-text"> {{"Header.Item4" | translate}}</span></a>
      </li>
      <li class="nav-item">
        <a [href]="cvLink" target="_blank" class="nav-link main-btn cv-button">
          {{"Header.cvBtn" | translate}}
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="language-container nav-link dropdown-toggle" id="dropdownForm1" role="button"
           data-bs-toggle="dropdown" aria-expanded="false">
          <ng-container *ngFor="let language of languageOptions">
            <img *ngIf='languageFormControl.value == language.languageValue' [alt]="language.text"
                 [ngSrc]="language.flag"
                 [width]="language.desktopWidth" [height]="language.desktopHeight">
            <span *ngIf='languageFormControl.value == language.languageValue'
                  class="flag-text">{{language.text}}</span>
          </ng-container>
          <svg class='arrow-language' height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"/>
          </svg>
        </a>
        <ul class="dropdown-menu" aria-labelledby="dropdownForm1">
          <li *ngFor="let language of languageOptions">
            <div class="dropdown-item" (click)="changeLanguage(language.languageValue)"
                 [class.active]="languageFormControl.value == language.languageValue">
              <img [alt]="language.text" [ngSrc]="language.flag" [width]="language.desktopWidth"
                   [height]="language.desktopHeight">
              <span class="flag-text">{{language.text}}</span>
              <svg class="bi bi-check2 arrow-active" fill="currentColor" height="16" viewBox="0 0 16 16"
                   width="16" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
              </svg>
            </div>
          </li>
        </ul>
      </li>
    </ul>
    <!-- Mobile View Toggle -->
    <div class="menu-wrapper">
      <div (click)='responsiveMenuVisible = !responsiveMenuVisible' [class.animate]='responsiveMenuVisible'
           class="hamburger-menu"></div>
    </div>
    <!-- Mobile View Navigation -->
    <aside [class.aside-show]='responsiveMenuVisible' [class.nav-shadow]='this.pageYPosition>0'
           class="on-top position-fixeds">
      <nav class="d-flex flex-column align-items-center py-4">
        <ol class="list-unstyled mb-1">
          <!-- Repeated list items with different click events and translations -->
          <li (click)='analyticsService.sendAnalyticEvent("click_about", "menu", "click")' class="mb-2">
            <a (click)='addFragment("about", $event)' href="#about" class="d-flex">
              <span>01. </span> {{"Header.Item1" | translate}}
            </a>
          </li>
          <li (click)='analyticsService.sendAnalyticEvent("click_experience", "menu", "click")'>
            <a (click)='addFragment("jobs", $event)' href="#jobs" class="d-flex">
              <span>02. </span> {{"Header.Item2" | translate}}
            </a>
          </li>
          <li (click)='analyticsService.sendAnalyticEvent("click_jobs", "menu", "click")'>
            <a (click)='addFragment("projects", $event)' href="#projects" class="d-flex">
              <span>03. </span> {{"Header.Item3" | translate}}
            </a>
          </li>
          <li (click)='analyticsService.sendAnalyticEvent("click_contact", "menu", "click")'>
            <a (click)='addFragment("contact", $event)' href="#contact" class="d-flex">
              <span>04. </span> {{"Header.Item4" | translate}}
            </a>
          </li>
          <li>
            <a [href]="cvLink" target="_blank" class="main-btn cv-button d-flex justify-content-center">
              {{"Header.cvBtn" | translate}}
            </a>
          </li>
          <li>
            <div class="d-flex flex-column mt-4">
              <div *ngFor="let language of languageOptions"
                   (click)="changeLanguage(language.languageValue)"
                   [class.active]="languageFormControl.value == language.languageValue"
                   class="d-flex align-items-center language-container-selector active px-3 py-1">
                <img [alt]="language.text" [ngSrc]="language.flag" [width]="language.mobileWidth"
                     [height]="language.mobileHeight">
                <span class="flag-text">{{language.text}}</span>
                <svg class="bi bi-check2 arrow-active" fill="currentColor" height="16" viewBox="0 0 16 16"
                     width="16" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                </svg>
              </div>
            </div>
          </li>
        </ol>
      </nav>
    </aside>
  </div>
</nav>
